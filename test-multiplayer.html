<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symbol Duel - Multiplayer Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #1a1a1a; color: white; }
        .container { max-width: 1200px; margin: 0 auto; }
        .user-panel { 
            border: 2px solid #333; 
            margin: 10px; 
            padding: 15px; 
            border-radius: 8px; 
            background: #2a2a2a;
            display: inline-block;
            width: 300px;
            vertical-align: top;
        }
        .user-panel h3 { color: #4CAF50; margin-top: 0; }
        .button { 
            background: #4CAF50; 
            color: white; 
            border: none; 
            padding: 8px 16px; 
            margin: 5px; 
            border-radius: 4px; 
            cursor: pointer; 
        }
        .button:hover { background: #45a049; }
        .status { 
            padding: 5px; 
            margin: 5px 0; 
            border-radius: 4px; 
            font-size: 12px;
        }
        .success { background: #4CAF50; }
        .info { background: #2196F3; }
        .warning { background: #FF9800; }
        .error { background: #f44336; }
        .game-list { 
            background: #333; 
            padding: 10px; 
            border-radius: 4px; 
            margin: 10px 0; 
            max-height: 200px; 
            overflow-y: auto; 
        }
        .game-item { 
            background: #444; 
            padding: 8px; 
            margin: 5px 0; 
            border-radius: 4px; 
            border-left: 4px solid #4CAF50; 
        }
        .leaderboard { 
            background: #333; 
            padding: 15px; 
            border-radius: 8px; 
            margin: 20px 0; 
        }
        .leaderboard-item { 
            display: flex; 
            justify-content: space-between; 
            padding: 8px; 
            margin: 5px 0; 
            background: #444; 
            border-radius: 4px; 
        }
        .rank-1 { border-left: 4px solid #FFD700; }
        .rank-2 { border-left: 4px solid #C0C0C0; }
        .rank-3 { border-left: 4px solid #CD7F32; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎮 Symbol Duel - Multiplayer Test</h1>
        <p>This simulates 6 users creating accounts and playing games together.</p>
        
        <div class="leaderboard">
            <h2>🏆 Live Leaderboard</h2>
            <div id="leaderboard">
                <div class="leaderboard-item rank-1">
                    <span>1. Champion</span>
                    <span>2500 pts | $500</span>
                </div>
                <div class="leaderboard-item rank-2">
                    <span>2. PuzzleMaster</span>
                    <span>2200 pts | $400</span>
                </div>
                <div class="leaderboard-item rank-3">
                    <span>3. SymbolSage</span>
                    <span>2000 pts | $350</span>
                </div>
            </div>
        </div>

        <div class="user-panel">
            <h3>👤 User 1 - Alice</h3>
            <div class="status success">✅ Account created - $100 balance</div>
            <button class="button" onclick="createGame('Alice', 25)">Create $25 Game</button>
            <button class="button" onclick="joinGame('Alice', 'game-1')">Join Game</button>
            <div class="status info">Status: Ready to play</div>
        </div>

        <div class="user-panel">
            <h3>👤 User 2 - Bob</h3>
            <div class="status success">✅ Account created - $100 balance</div>
            <button class="button" onclick="createGame('Bob', 15)">Create $15 Game</button>
            <button class="button" onclick="joinGame('Bob', 'game-1')">Join Game</button>
            <div class="status info">Status: Ready to play</div>
        </div>

        <div class="user-panel">
            <h3>👤 User 3 - Charlie</h3>
            <div class="status success">✅ Account created - $100 balance</div>
            <button class="button" onclick="createGame('Charlie', 20)">Create $20 Game</button>
            <button class="button" onclick="joinGame('Charlie', 'game-1')">Join Game</button>
            <div class="status info">Status: Ready to play</div>
        </div>

        <div class="user-panel">
            <h3>👤 User 4 - Diana</h3>
            <div class="status success">✅ Account created - $100 balance</div>
            <button class="button" onclick="createGame('Diana', 30)">Create $30 Game</button>
            <button class="button" onclick="joinGame('Diana', 'game-1')">Join Game</button>
            <div class="status info">Status: Ready to play</div>
        </div>

        <div class="user-panel">
            <h3>👤 User 5 - Eve</h3>
            <div class="status success">✅ Account created - $100 balance</div>
            <button class="button" onclick="createGame('Eve', 10)">Create $10 Game</button>
            <button class="button" onclick="joinGame('Eve', 'game-1')">Join Game</button>
            <div class="status info">Status: Ready to play</div>
        </div>

        <div class="user-panel">
            <h3>👤 User 6 - Frank</h3>
            <div class="status success">✅ Account created - $100 balance</div>
            <button class="button" onclick="createGame('Frank', 35)">Create $35 Game</button>
            <button class="button" onclick="joinGame('Frank', 'game-1')">Join Game</button>
            <div class="status info">Status: Ready to play</div>
        </div>

        <div style="clear: both; margin-top: 20px;">
            <h2>🎯 Available Games</h2>
            <div class="game-list" id="gameList">
                <div class="game-item">
                    <strong>$25 Game</strong> by Alice<br>
                    Players: 2/6 | Status: Lobby
                </div>
                <div class="game-item">
                    <strong>$15 Quick Game</strong> by Bob<br>
                    Players: 3/4 | Status: Countdown
                </div>
            </div>
        </div>

        <div style="margin-top: 20px;">
            <h2>🚀 Test Scenarios</h2>
            <button class="button" onclick="runFullTest()">Run Full Multiplayer Test</button>
            <button class="button" onclick="simulateGame()">Simulate Complete Game</button>
            <button class="button" onclick="testLeaderboard()">Test Leaderboard Updates</button>
        </div>

        <div id="testResults" style="margin-top: 20px; padding: 15px; background: #333; border-radius: 8px;">
            <h3>📊 Test Results</h3>
            <div id="results"></div>
        </div>
    </div>

    <script>
        let gameCounter = 1;
        let testResults = [];

        function createGame(username, entryFee) {
            const gameId = 'game-' + gameCounter++;
            const gameItem = document.createElement('div');
            gameItem.className = 'game-item';
            gameItem.innerHTML = '<strong>$' + entryFee + ' Game</strong> by ' + username + '<br>Players: 1/6 | Status: Lobby';
            document.getElementById('gameList').appendChild(gameItem);
            
            addResult('✅ ' + username + ' created $' + entryFee + ' game');
        }

        function joinGame(username, gameId) {
            addResult('👥 ' + username + ' joined game ' + gameId);
        }

        function runFullTest() {
            addResult('🚀 Starting full multiplayer test...');
            
            // Simulate all users creating accounts
            setTimeout(() => {
                addResult('✅ All 6 users created accounts with $100 each');
            }, 500);
            
            // Simulate game creation
            setTimeout(() => {
                addResult('🎮 Alice creates $25 game');
                addResult('🎮 Bob creates $15 game');
                addResult('🎮 Charlie creates $20 game');
            }, 1000);
            
            // Simulate players joining
            setTimeout(() => {
                addResult('👥 Bob joins Alice\'s game');
                addResult('👥 Charlie joins Alice\'s game');
                addResult('👥 Diana joins Alice\'s game');
            }, 1500);
            
            // Simulate game start
            setTimeout(() => {
                addResult('🚀 Game starts with 4 players');
                addResult('🧩 Round 1: Puzzle solving begins');
            }, 2000);
            
            // Simulate game completion
            setTimeout(() => {
                addResult('🏆 Alice wins with 180 points');
                addResult('💰 Alice receives $100 prize pool');
                addResult('📊 Leaderboard updated');
            }, 3000);
        }

        function simulateGame() {
            addResult('🎯 Simulating complete game...');
            
            const puzzles = [
                '🎭 + 🎪 = ?',
                '🌙 + 🌟 = ?',
                '🔥 + ❄️ = ?',
                '🎵 + 🎶 = ?',
                '🏆 + 🥇 = ?',
                '🎨 + 🖼️ = ?'
            ];
            
            puzzles.forEach((puzzle, index) => {
                setTimeout(() => {
                    addResult('🧩 Round ' + (index + 1) + ': ' + puzzle);
                    setTimeout(() => {
                        addResult('✅ Alice solved in 15s (25 points)');
                        addResult('✅ Bob solved in 22s (18 points)');
                        addResult('❌ Charlie didn\'t solve (0 points)');
                    }, 1000);
                }, index * 2000);
            });
            
            setTimeout(() => {
                addResult('🏆 Game Complete!');
                addResult('🥇 Alice: 150 points');
                addResult('🥈 Bob: 120 points');
                addResult('🥉 Charlie: 90 points');
                addResult('💰 Alice wins $75 prize pool!');
            }, puzzles.length * 2000 + 1000);
        }

        function testLeaderboard() {
            addResult('📊 Testing leaderboard updates...');
            
            const players = [
                { name: 'Alice', score: 150, balance: 175 },
                { name: 'Bob', score: 120, balance: 85 },
                { name: 'Charlie', score: 90, balance: 80 }
            ];
            
            players.forEach((player, index) => {
                setTimeout(() => {
                    addResult('📈 ' + player.name + ': ' + player.score + ' points, $' + player.balance + ' balance');
                }, index * 500);
            });
        }

        function addResult(message) {
            const results = document.getElementById('results');
            const resultItem = document.createElement('div');
            resultItem.className = 'status info';
            resultItem.textContent = message;
            results.appendChild(resultItem);
            results.scrollTop = results.scrollHeight;
        }

        // Auto-run basic test on load
        window.onload = function() {
            setTimeout(() => {
                addResult('🎮 Multiplayer test environment loaded');
                addResult('✅ All 6 users ready with $100 each');
                addResult('🎯 Ready to test multiplayer functionality');
            }, 1000);
        };
    </script>
</body>
</html>
